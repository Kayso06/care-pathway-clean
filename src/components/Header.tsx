'use client';\n\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { usePathname } from 'next/navigation';\nimport { useState, useRef, useEffect } from 'react';\n\nexport default function Header() {\n  const pathname = usePathname();\n  const [isAboutDropdownOpen, setIsAboutDropdownOpen] = useState(false);\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  const mobileMenuRef = useRef<HTMLDivElement>(null);\n\n  // Handle clicks outside the dropdown to close it\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsAboutDropdownOpen(false);\n      }\n      if (mobileMenuRef.current && !mobileMenuRef.current.contains(event.target as Node)) {\n        setIsMobileMenuOpen(false);\n      }\n    }\n    \n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  // Handle mobile menu toggle\n  const handleMobileMenuToggle = () => {\n    setIsMobileMenuOpen(!isMobileMenuOpen);\n    if (!isMobileMenuOpen) {\n      // If opening the menu, scroll to top smoothly\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n    }\n  };\n\n  // Handle mobile menu item click\n  const handleMobileMenuItemClick = () => {\n    setIsMobileMenuOpen(false);\n    window.scrollTo({ top: 0, behavior: 'smooth' });\n  };\n\n  return (\n    <header className=\"fixed w-full z-[100] px-4 py-4 mt-2\">\n      <div className=\"container mx-auto\">\n        <div className=\"nav-container px-6 py-3 flex justify-between items-center bg-white/80 backdrop-blur-lg rounded-2xl shadow-sm\">\n          <div className=\"flex items-center\">\n            <Image \n              src=\"/care-pathway-pro-site-logo.png\" \n              alt=\"Care Pathway Pro Logo\" \n              width={200} \n              height={65} \n              priority \n              className=\"w-auto h-10\" \n            />\n          </div>\n\n          {/* Desktop Navigation */}\n          <nav className=\"hidden md:flex space-x-8\">\n            <Link \n              href=\"/\" \n              className={`nav-link transition-colors relative ${\n                pathname === '/' \n                  ? 'font-bold after:absolute after:bottom-[-4px] after:left-0 after:w-full after:h-[2px] after:bg-gradient-to-r after:from-primary after:to-secondary' \n                  : 'text-gray-800 hover:text-primary'\n              }`}\n            >\n              Home\n            </Link>\n            <div \n              ref={dropdownRef}\n              className=\"relative group\"\n              onClick={() => setIsAboutDropdownOpen(!isAboutDropdownOpen)}\n              onMouseEnter={() => setIsAboutDropdownOpen(true)}\n            >\n              <Link \n                href=\"/about\" \n                className={`nav-link transition-colors relative ${\n                  pathname === '/about' \n                    ? 'font-bold after:absolute after:bottom-[-4px] after:left-0 after:w-full after:h-[2px] after:bg-gradient-to-r after:from-primary after:to-secondary' \n                    : 'text-gray-800 hover:text-primary'\n                }`}\n              >\n                About Us\n              </Link>\n              {isAboutDropdownOpen && (\n                <div className=\"absolute top-full left-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50\">\n                  <Link \n                    href=\"/investors\" \n                    className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-primary transition-colors\"\n                  >\n                    Become an Investor\n                  </Link>\n                </div>\n              )}\n            </div>\n            <Link \n              href=\"/pricing\" \n              className={`nav-link transition-colors relative ${\n                pathname === '/pricing' \n                  ? 'font-bold after:absolute after:bottom-[-4px] after:left-0 after:w-full after:h-[2px] after:bg-gradient-to-r after:from-primary after:to-secondary' \n                  : 'text-gray-800 hover:text-primary'\n              }`}\n            >\n              Pricing\n            </Link>\n            <Link \n              href=\"/products\" \n              className={`nav-link transition-colors relative ${\n                pathname === '/products' \n                  ? 'font-bold after:absolute after:bottom-[-4px] after:left-0 after:w-full after:h-[2px] after:bg-gradient-to-r after:from-primary after:to-secondary' \n                  : 'text-gray-800 hover:text-primary'\n              }`}\n            >\n              Products\n            </Link>\n            <Link \n              href=\"/contact\" \n              className={`nav-link transition-colors relative ${\n                pathname === '/contact' \n                  ? 'font-bold after:absolute after:bottom-[-4px] after:left-0 after:w-full after:h-[2px] after:bg-gradient-to-r after:from-primary after:to-secondary' \n                  : 'text-gray-800 hover:text-primary'\n              }`}\n            >\n              Contact\n            </Link>\n          </nav>\n\n          {/* Desktop Action Buttons */}\n          <div className=\"hidden md:flex items-center space-x-4\">\n            <Link href=\"/contact\" className=\"contact-button\">Contact Us</Link>\n          </div>\n\n          {/* Mobile Menu Button */}\n          <button \n            className=\"md:hidden p-2 rounded-lg hover:bg-gray-100\"\n            onClick={handleMobileMenuToggle}\n            aria-label=\"Toggle mobile menu\"\n          >\n            <svg \n              xmlns=\"http://www.w3.org/2000/svg\" \n              fill=\"none\" \n              viewBox=\"0 0 24 24\" \n              strokeWidth={1.5} \n              stroke=\"currentColor\" \n              className=\"w-6 h-6\"\n            >\n              {isMobileMenuOpen ? (\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M6 18L18 6M6 6l12 12\" />\n              ) : (\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5\" />\n              )}\n            </svg>\n          </button>\n        </div>\n\n        {/* Mobile Menu */}\n        {isMobileMenuOpen && (\n          <div \n            ref={mobileMenuRef}\n            className=\"absolute top-full left-0 right-0 mt-2 mx-4 bg-white rounded-xl shadow-lg py-4 z-50\"\n          >\n            <nav className=\"flex flex-col space-y-2\">\n              <Link \n                href=\"/\" \n                className={`px-6 py-3 transition-colors ${\n                  pathname === '/' ? 'bg-primary/5 text-primary font-semibold' : 'text-gray-800'\n                }`}\n                onClick={handleMobileMenuItemClick}\n              >\n                Home\n              </Link>\n              <Link \n                href=\"/about\" \n                className={`px-6 py-3 transition-colors ${\n                  pathname === '/about' ? 'bg-primary/5 text-primary font-semibold' : 'text-gray-800'\n                }`}\n                onClick={handleMobileMenuItemClick}\n              >\n                About Us\n              </Link>\n              <Link \n                href=\"/pricing\" \n                className={`px-6 py-3 transition-colors ${\n                  pathname === '/pricing' ? 'bg-primary/5 text-primary font-semibold' : 'text-gray-800'\n                }`}\n                onClick={handleMobileMenuItemClick}\n              >\n                Pricing\n              </Link>\n              <Link \n                href=\"/products\" \n                className={`px-6 py-3 transition-colors ${\n                  pathname === '/products' ? 'bg-primary/5 text-primary font-semibold' : 'text-gray-800'\n                }`}\n                onClick={handleMobileMenuItemClick}\n              >\n                Products\n              </Link>\n              <Link \n                href=\"/contact\" \n                className={`px-6 py-3 transition-colors ${\n                  pathname === '/contact' ? 'bg-primary/5 text-primary font-semibold' : 'text-gray-800'\n                }`}\n                onClick={handleMobileMenuItemClick}\n              >\n                Contact\n              </Link>\n              <div className=\"px-6 pt-4 mt-2 border-t border-gray-100 flex flex-col space-y-3\">\n                <Link \n                  href=\"/contact\" \n                  className=\"btn btn-secondary w-full\"\n                  onClick={handleMobileMenuItemClick}\n                >\n                  Contact Us\n                </Link>\n              </div>\n            </nav>\n          </div>\n        )}\n      </div>\n    </header>\n  );\n}